appId: ${APP_ID}
---
# Test: App tab navigation
# Tests navigation between all available tabs
# - Collections, History, Settings, Review (all users)
# - Add Word (only for users with full_access)

# Ensure clean state (logout if already logged in)
- runFlow: flows/setup-clean-state.yaml

# Login with test user
- runFlow: flows/login-helper.yaml

# Navigate to History tab
- tapOn:
    text: "History"
- waitForAnimationToEnd
- assertVisible:
    id: "screen-history"

# Navigate to Settings tab
- tapOn:
    text: "Settings"
- waitForAnimationToEnd
- assertVisible:
    id: "screen-settings"

# Navigate to Review tab
- tapOn:
    text: "Review"
- waitForAnimationToEnd
- assertVisible:
    id: "screen-review"

# Check if user has full_access and test Add Word tab
- runFlow:
    when:
      visible: "Add Word"
    commands:
      - tapOn:
          text: "Add Word"
      - waitForAnimationToEnd
      - assertVisible:
          id: "screen-add-word"

# Navigate back to Collections tab
- tapOn:
    text: "Collections"
- waitForAnimationToEnd
- assertVisible:
    id: "screen-collections"
